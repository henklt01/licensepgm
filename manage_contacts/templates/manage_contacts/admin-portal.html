<!-- templates/manage_contacts/manage-contacts.html -->
{% extends "base.html" %}

{% block title %}Manage Contacts{% endblock title %}

{% block head %}
{% load static %}
<link rel="stylesheet" type="text/css" href="{% static 'manage_contacts/css/style.css' %}">
<script src="{% static "manage_contacts/js/script.js" %}"></script>
{% endblock head %}

{% block infobox %}{% endblock infobox %}
{% block main %}


<div class="tab">
  <p>
    <button class="js-tablinks" id="js-default-open" onclick="changePage(event, 'account-tab')">Account</button>
    <button class="js-tablinks" onclick="changePage(event, 'organizations-tab')">Licenses</button>
    <button class="js-tablinks" onclick="changePage(event, 'contacts-tab')">Contacts</button>
  </p>
</div>

  <div id="account-tab" class="js-tabcontent">
    <div class="account-info">
    <h2>My Account:</h2>
    <p>Contact: {{ contact_data.user.username }}</p>
    <p>Role: {{ contact_data.role }}</p>
    <p>Company: {{ contact_data.organization }}</p>
    <p>ID: {{ contact_data.user.id }}</p>

    </div>
    

  </div>

<div id="organizations-tab" class="js-tabcontent">

  {% comment %} <h3 class="center-text">Product Licenses</h3> {% endcomment %}
  <form class="entitlement-creation-form" method="post">
    {% csrf_token %}
    {{ entitlement_form.as_p }}
    <input class="button" type = "submit" value = "Create License" name="newForm"/>
  </form>

    <p class="button-padding">
      <a class="button" href="{% url 'add_product' %}">Add Product</a>
      <a  class="button" href="{% url 'add_organization' %}">Add Org</a>
    </p>

    <form method="post">
      {% csrf_token %}
      <table id="entitlement-table">
        <thead>
          <tr> 
            <th></th>
          </tr>
        </thead>
      </table>
      {% comment %} <p><input type="button" class="button" name="delete_entitlement_button" id="delete-entitlement-button" value="Delete"></p> {% endcomment %}
      <div class="master_license_form">
      {{ master_license_form.as_p }}
      </div>
      <p class="button-padding"><input class="button" name="save-master-license" type="submit" value="Save Master License"></p>
    </form>



</div>



<div id="contacts-tab" class="js-tabcontent">
  
  <form class="contact-search-form">
    <input id="contact-search-button" type="button" class="button" value="Search"/>
    {{ contact_search_form }}
    <input id="clear-contact-search" type="button" class="button" value="Clear"/>
  </form>
  
  <p class="button-padding"><a class="button" href="{% url 'add_contact' %}">Add Contact</a></p>


    <table id="contact-table">
      <thead>
        <tr> 
          <th></th>
        </tr>
      </thead>
    </table>
    {% comment %} <p><input type="button" class="button" name="delete_contact_button" id="delete-contact-button" value="Delete"></p>   {% endcomment %}


</div>

</div>
{% endblock main %}