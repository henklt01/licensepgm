<!-- templates/manage_contacts/manage-contacts.html -->
{% extends "base.html" %}

{% block title %}Manage Contacts{% endblock title %}

{% block head %}
{% load static %}
<link rel="stylesheet" type="text/css" href="{% static 'manage_contacts/css/style.css' %}">
<script src="{% static "manage_contacts/js/script.js" %}"></script>
{% endblock head %}

{% block header %}
<div class="flex-container flex-row widget-box">
  <div class="tab">
    <button class="js-tablinks" id="js-default-open" onclick="changePage(event, 'contacts-tab')">Contact List</button>
    <button class="js-tablinks" onclick="changePage(event, 'information-tab')">My Information</button>
  </div>

  <div class="nav-row">
    <p><a href="{% url 'manage_licenses' %}">Licenses</a></p>
    <p><a href="{% url 'homepage' %}">Home</a></p>
    <p><a href="{% url 'admin_dash' %}">Admin</a></p>
    <p><a href="{% url 'logout' %}">Log Out</a></p>
  </div>

</div>
{% endblock header %}

{% block logocontainer %}{% endblock logocontainer %}

{% block main %}
{% comment %} <div class="flex-container widget-box"> {% endcomment %}
  <div class="flex-container widget-box">
    <h2> Manage Contacts </h2>
    <p> {{ user.email }} - {{ contact_data.role }} - {{ contact_data.organization }} </p>
    <p>
      This screen displays the contacts for the entire Organization. If you want to update your personal Information, 
      click on 'My Information' menu item above.
    </p>
    <p><a href="{% url 'add_contact' %}">New Contact</a></p>
  </div>

<div id="contacts-tab" class="js-tabcontent">
  
  <div class="flex-container widget-box"> 
    <h3>Filter Contacts</h3>
    <form>
      <input id="contact-search-button" type="button" value="Search"/>
      {{ contact_search_form }}
      <input id="clear-contact-search" class="button" type="reset" value="Clear"/>
    </form>
  </div>


  <div class="flex-container widget-box flex-center">

    <h3 class="table-label">Contacts</h3>
    <form>
      <div class="table-container widget-box">
         <table id="contact-table" class="widget-table">
           <thead>
            <tr> 
              <th></th>
            </tr>
           </thead>
         </table>
        <input type="button" name="delete_contact_button" id="delete-contact-button" value="Delete">
      </div>
    </form>
  </div>
</div>

<div id="information-tab" class="js-tabcontent">
    <div class="flex-box widget-box">
      <h3>{{ user.username }}</h3>
        <p>UserEmail: {{ user.email }}</p>
        <p>Role: {{ contact_data.role }}</p>
        <p>Org: {{ contact_data.organization }}</p>
        <p>UserID: {{ user.id }}</p>
        <p>OrgID: {{ contact_data.organization.id }}</p>
        <p><a href="{% url 'password_change' %}">Change Password</a></p>
        <p><a href="{% url 'password_reset' %}">Reset Password</a></p>
    </div> 
</div>



{% comment %} </div> {% endcomment %}
{% endblock main %}

{% block footer %}{% endblock footer %}