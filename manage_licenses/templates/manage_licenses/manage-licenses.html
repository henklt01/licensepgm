<!-- templates/manage_licenses/manage-licenses.html -->

{% extends "base.html" %}
{% block title %}Manage Licenses{% endblock title %}

{% block head %}
{% load static %}
<link rel="stylesheet" type="text/css" href="{% static 'manage_licenses/css/style.css' %}">
<script src="{% static "manage_licenses/js/script.js" %}"></script>
{% endblock head %}

{% block banner %}
<div class="flex-container flex-row app-banner">
  <div class="tab">
  <button class="js-tablinks" id="js-default-open" onclick="changePage(event, 'licenses-tab')">My licenses</button>
  <button class="js-tablinks" onclick="changePage(event, 'products-tab')">My products</button>
  </div>

  <div class="nav-row navigation-buttons">
    <p><a href="{% url 'manage_contacts' %}">Manage Contacts</a></p>
    <p><a href="{% url 'homepage' %}">Home</a></p>
    <p><a href="{% url 'logout' %}">Log Out</a></p>
  </div>
</div>
{% endblock banner %}

{% block logocontainer %}{% endblock logocontainer %}

{% block main %}
<div class="flex-container">
  <h2 class="text-container"> Manage Licenses </h2>
  <div class="flex-box">
  <p class="text-container"> {{ user_email }} - {{ user_role }} - {{ user_org }} </h3>
  </div>
</div>

{% if messages %}
<ul class="messages">
    {% for message in messages %}
    <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
    {% endfor %}
</ul>
{% endif %}

<div id="licenses-tab" class="js-tabcontent">

  <div class="flex-container widget-container">
    <p class="text-container">
    This screen displays the licenses for the entire Organization. If you want to view associated products, 
    click on 'View my products' menu item above.
    </p>
  </div>

  <div class="flex-container">
    <div class="flex-container flex-center"><h3>Add License</h3></div>
    <div class="flex-box widget-box">
      <form method = "post">
          {% csrf_token %}
          {{ new_license_form }}
          <p><input class="button" type="submit" value="Save License"/></p>
      </form>
    </div>
  </div>

  

  <div class="flex-container">
    
    <div class="flex-container flex-center">

      <div class="flex-container flex-center">
        <div class="flex-container flex-center">
          <h3 class="text-container"> Licenses </h3>
        </div>
      </div>


      <div class="flex-container">
        <div class="flex-box widget-box"> 
          <p class="text-container">Filter Licenses Using the Fields Below</p>

          <form>
            <input id="license-search-button" type="button" value="Search"/>
            {{ license_search_form }}
          
            <div><input id="clear-license-search" class="button" type="reset" value="Clear"/></div>
          </form>
        </div>
      </div>

      <form>
        <div class="table-scroll">
          <table id="license-table" class="widget-table">
              <thead>
                <tr> 
                  <th></th>
                </tr>
              </thead>
          </table>
        </div>
        
        <div class="flex-container flex-row">
          <p><input type="submit" name="delete_license_button" id="delete-license-button" value="Delete"></p>
          <p><input type="submit" name="generate_license_selection" id="generate-license-selection" value="Generate"></p>          
        </div>
        
      </form>
    </div>
  </div>
</div>



<div id="products-tab" class="js-tabcontent">

  <div class="flex-container flex-center">

    <div class="flex-container flex-center">
      <h3 class="text-container">Product Entitlements</h3>
    </div>
    
    <div class="flex-container">
      <div class="flex-box widget-box">
        <p>Filter Products</p>
        
        <form>
          <input id="entitlement-search-button" Value="Search" type="button">
          {{ entitlement_search_form }}
          <div><input type="reset" class="button" id="clear-entitlement-search" value="Clear"></div>
        </form>
      </div>
    </div>

    <div class="table-scroll">
      <table id="entitlement-table" class="widget-table">
        <thead>
          <tr> 
            <th></th>
          </tr>
        </thead>
      </table>
    </div>
  </div>
</div>

<div class="flex-container">
</div>

{% endblock main%}